#!/usr/bin/env bash

function color () {
    case $1 in
        red)
            echo -ne '\033[0;31m'
            ;;
        green)
            echo -ne '\033[0;32m'
            ;;
        yellow)
            echo -ne '\033[0;33m'
            ;;
        default)
            echo -ne '\033[0m'
            ;;
    esac
}

function test_clj () {
    echo '---------------------'
    color yellow
    echo 'Running Clojure tests'
    color default
    echo '---------------------'
    clojure -M:test
}


function test_cljs () {
    echo '---------------------------'
    color yellow
    echo 'Running ClojureScript tests'
    color default
    echo '---------------------------'
    clojure -M:cljs-test
}

case $1 in
    clj)
        test_clj
        ;;
    cljs)
        test_cljs
        ;;
    *)
        test_clj
        echo
        test_cljs
        ;;
esac
